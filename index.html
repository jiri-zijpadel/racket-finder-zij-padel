<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>≈Ωij padel ‚Äì Racket Finder</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --zp-navy:#003d79; --zp-lime:#c6e801; --zp-text:#1e1e1e; --zp-muted:#f6f8fb; --zp-border:rgba(0,61,121,.16);}
    #zp-quiz { font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; max-width:880px; margin:0 auto; padding:20px; color:var(--zp-text);}
    .zp-quiz__card { background:#fff; border:1px solid var(--zp-border); border-radius:16px; box-shadow:0 6px 22px rgba(0,0,0,.06); overflow:hidden;}
    .zp-quiz__title { font-size:26px; font-weight:700; color:var(--zp-navy); text-align:center; margin:20px 0 10px;}
    .zp-quiz__subtitle { text-align:center; color:#444; font-size:15px; margin:0 0 18px;}
    .zp-quiz__progressbar { height:8px; background:var(--zp-muted); border-radius:999px; overflow:hidden; }
    .zp-quiz__progressbar > span { display:block; height:100%; width:0%; background:linear-gradient(90deg,var(--zp-lime),#d9ff4a); transition:width .3s ease; }
    .zp-quiz__progress { padding:0 20px 8px; }
    .zp-quiz__progress-label { font-size:13px; color:#5a5a5a; margin-top:8px; text-align:right; }
    .zp-quiz__body { padding:20px; }
    .zp-step { display:none; } .zp-step.active { display:block; }
    .zp-step h3 { font-size:20px; color:var(--zp-navy); margin:0 0 14px; line-height:1.3; }
    .zp-options { display:grid; grid-template-columns:repeat(3,1fr); gap:12px; } @media (max-width:860px){ .zp-options{ grid-template-columns:repeat(2,1fr);}} @media (max-width:520px){ .zp-options{ grid-template-columns:1fr;}}
    .zp-option { border:1px solid var(--zp-border); border-radius:12px; padding:14px; background:#fff; cursor:pointer; transition:transform .15s ease, box-shadow .2s ease, border-color .2s ease; user-select:none; min-height:64px; display:flex; align-items:center; justify-content:space-between; gap:10px;}
    .zp-option:hover { transform:translateY(-1px); box-shadow:0 4px 14px rgba(0,0,0,.06);}
    .zp-option.selected { border-color:var(--zp-lime); box-shadow:0 4px 18px rgba(198,232,1,.22);}
    .zp-option__label { font-size:15px; font-weight:600;}
    .zp-option__dot { width:18px; height:18px; border-radius:50%; border:2px solid var(--zp-border); position:relative; flex:0 0 auto; }
    .zp-option.selected .zp-option__dot { border-color:var(--zp-lime);} .zp-option.selected .zp-option__dot::after { content:''; position:absolute; inset:3px; border-radius:50%; background:var(--zp-lime);}
    .zp-quiz__nav { display:flex; justify-content:space-between; gap:12px; margin-top:18px;}
    .zp-btn { appearance:none; border:0; cursor:pointer; border-radius:10px; padding:12px 16px; font-weight:700; font-size:15px; display:inline-flex; align-items:center; gap:8px; }
    .zp-btn--primary { background:var(--zp-lime); color:#0b0b0b; box-shadow:0 6px 16px rgba(198,232,1,.35);}
    .zp-btn--ghost { background:#fff; color:var(--zp-navy); border:1px solid var(--zp-border);}
    .zp-result { text-align:center; padding:0 6px; }
    .zp-quiz__result-media { display:grid; grid-template-columns:360px 1fr; gap:18px; align-items:center; margin:18px 0; } @media (max-width:760px){ .zp-quiz__result-media{ grid-template-columns:1fr;}}
    .zp-quiz__result-image { width:100%; aspect-ratio:4/5; border:1px solid var(--zp-border); border-radius:12px; overflow:hidden; background:#fff; display:grid; place-items:center; }
    .zp-quiz__result-image img { display:block; width:100%; height:100%; object-fit:contain; }
    .zp-quiz__result-image--placeholder { width:100%; height:100%; display:grid; place-items:center; background:linear-gradient(135deg,#f7f9fc,#eef3fb); color:#6a6a6a; font-weight:600; font-size:14px; text-align:center; padding:16px; }
    .zp-result__title { font-size:24px; color:var(--zp-navy); margin:6px 0 6px; }
    .zp-helper { font-size:12px; color:#6a6a6a; margin-top:8px; }
  </style>
</head>
<body>
  <div id="zp-quiz" class="zp-quiz__card">
    <div class="zp-quiz__header">
      <h2 class="zp-quiz__title">Vyhled√°vaƒç padelovov√Ωch raket</h2>
      <p class="zp-quiz__subtitle">Najdeme ti ide√°ln√≠ padelovou raketu bƒõhem p√°r kliknut√≠.</p>
      <div class="zp-quiz__progress">
        <div class="zp-quiz__progressbar"><span style="width:0%"></span></div>
        <div class="zp-quiz__progress-label"><span id="zp-progress-label">Krok 1 z 5</span></div>
      </div>
    </div>
    <div class="zp-quiz__body">
      <section class="zp-step active" data-step="age" aria-label="Vƒõk">
        <h3>Kolik je ti let?</h3>
        <div class="zp-options" role="group" aria-label="Vƒõkov√© rozmez√≠">
          <button class="zp-option" data-value="D√≠tƒõ (6‚Äì15)"><span class="zp-option__label">D√≠tƒõ (6‚Äì15)</span><span class="zp-option__dot"></span></button>
          <button class="zp-option" data-value="Dospƒõl√Ω (16‚Äì59)"><span class="zp-option__label">Dospƒõl√Ω (16‚Äì59)</span><span class="zp-option__dot"></span></button>
          <button class="zp-option" data-value="Senior (60+)"><span class="zp-option__label">Senior (60+)</span><span class="zp-option__dot"></span></button>
        </div>
        <div class="zp-quiz__nav">
          <button class="zp-btn zp-btn--ghost" data-action="back" disabled>P≈ôedchoz√≠</button>
          <button class="zp-btn zp-btn--primary" data-action="next" disabled>Pokraƒçovat</button>
        </div>
      </section>

      <section class="zp-step" data-step="sex" aria-label="Pohlav√≠">
        <h3>Jak√© je tvoje pohlav√≠?</h3>
        <div class="zp-options" role="group" aria-label="Pohlav√≠">
          <button class="zp-option" data-value="Mu≈æ"><span class="zp-option__label">Mu≈æ</span><span class="zp-option__dot"></span></button>
          <button class="zp-option" data-value="≈Ωena"><span class="zp-option__label">≈Ωena</span><span class="zp-option__dot"></span></button>
        </div>
        <div class="zp-quiz__nav">
          <button class="zp-btn zp-btn--ghost" data-action="back">P≈ôedchoz√≠</button>
          <button class="zp-btn zp-btn--primary" data-action="next" disabled>Pokraƒçovat</button>
        </div>
      </section>

      <section class="zp-step" data-step="frequency" aria-label="Frekvence hran√≠">
        <h3>Jak ƒçasto hraje≈°?</h3>
        <div class="zp-options" role="group">
          <button class="zp-option" data-value="1‚Äì2√ó mƒõs√≠ƒçnƒõ"><span class="zp-option__label">1‚Äì2√ó mƒõs√≠ƒçnƒõ</span><span class="zp-option__dot"></span></button>
          <button class="zp-option" data-value="1√ó t√Ωdnƒõ"><span class="zp-option__label">1√ó t√Ωdnƒõ</span><span class="zp-option__dot"></span></button>
          <button class="zp-option" data-value="2‚Äì3√ó t√Ωdnƒõ"><span class="zp-option__label">2‚Äì3√ó t√Ωdnƒõ</span><span class="zp-option__dot"></span></button>
        </div>
        <div class="zp-quiz__nav">
          <button class="zp-btn zp-btn--ghost" data-action="back">P≈ôedchoz√≠</button>
          <button class="zp-btn zp-btn--primary" data-action="next" disabled>Pokraƒçovat</button>
        </div>
      </section>

      <section class="zp-step" data-step="level" aria-label="√örove≈à hr√°ƒçe">
        <h3>Jak√° je tvoje √∫rove≈à?</h3>
        <div class="zp-options" role="group">
          <button class="zp-option" data-value="Zaƒç√°teƒçn√≠k"><span class="zp-option__label">Zaƒç√°teƒçn√≠k</span><span class="zp-option__dot"></span></button>
          <button class="zp-option" data-value="Pokroƒçil√Ω"><span class="zp-option__label">Pokroƒçil√Ω</span><span class="zp-option__dot"></span></button>
          <button class="zp-option" data-value="Velmi zdatn√Ω hr√°ƒç / expert"><span class="zp-option__label">Pokroƒçil√Ω a≈æ expert</span><span class="zp-option__dot"></span></button>
        </div>
        <div class="zp-quiz__nav">
          <button class="zp-btn zp-btn--ghost" data-action="back">P≈ôedchoz√≠</button>
          <button class="zp-btn zp-btn--primary" data-action="next" disabled>Pokraƒçovat</button>
        </div>
      </section>

      <section class="zp-step" data-step="preference" aria-label="Preferovan√Ω styl">
        <h3>Co preferuje≈°?</h3>
        <div class="zp-options" role="group">
          <button class="zp-option" data-value="Kontrolu"><span class="zp-option__label">Kontrolu</span><span class="zp-option__dot"></span></button>
          <button class="zp-option" data-value="Univerz√°lnost"><span class="zp-option__label">Univerz√°lnost</span><span class="zp-option__dot"></span></button>
          <button class="zp-option" data-value="S√≠lu"><span class="zp-option__label">S√≠lu</span><span class="zp-option__dot"></span></button>
        </div>
        <div class="zp-quiz__nav">
          <button class="zp-btn zp-btn--ghost" data-action="back">P≈ôedchoz√≠</button>
          <button class="zp-btn zp-btn--primary" data-action="finish" disabled>Zobrazit doporuƒçen√≠</button>
        </div>
      </section>

      <section class="zp-step" data-step="result" aria-label="Doporuƒçen√≠" tabindex="-1">
        <div class="zp-result">
          
          <div class="zp-quiz__result-media">
            <div class="zp-quiz__result-image" id="zp-result-image">
              <div class="zp-quiz__result-image--placeholder">Obr√°zek produktu<br><small>(dopl≈àte v RULES)</small></div>
            </div>
            <div>
              <span class="zp-helper">Doporuƒçen√≠</span>
          <h3 class="zp-result__title" id="zp-result-title">‚Äî</h3>
          <p class="zp-helper" id="zp-result-subtitle">‚Äî</p>
              <div id="zp-result-desc">Na z√°kladƒõ tv√Ωch odpovƒõd√≠ jsme vybrali raketu, kter√° by ti mƒõla sedƒõt.</div>
              <div class="zp-quiz__nav" style="justify-content:center; margin-top:12px;">
                <button class="zp-btn zp-btn--ghost" data-action="restart">Zaƒç√≠t znovu</button>
                <span id="zp-result-cta"></span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
<script>
(function() {
  const root = document.getElementById('zp-quiz');
  const steps = Array.from(root.querySelectorAll('.zp-step'));
  const progressBar = root.querySelector('.zp-quiz__progressbar > span');
  const progressLabel = root.querySelector('#zp-progress-label');
  const ORDER = ['age','sex','frequency','level','preference','result'];
  const RESULT_INDEX = ORDER.indexOf('result');
  const state = { stepIndex: 0, answers: { age:null, sex:null, frequency:null, level:null, preference:null } };

  // ‚úÖ Speci√°ln√≠ produkt pro dƒõti
  const CHILD_PRODUCT = {
    name: 'Babolat Alioth Junior',
    url: 'https://www.zijpadel.cz/babolat-alioth-junior/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder',
    image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1142-3_zijpadel-babolat-alioth-jr-2026-hlavni-jpeg.jpg?68ea322b'
  };

  // ‚úÖ Pravidla pro ostatn√≠ kombinace (v√Ωbƒõr zkr√°cen pro p≈ôehlednost)
  const RULES = [
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: 'Mu≈æ', level: 'Pokroƒçil√Ω', preference: 'Kontrolu', product: { name: 'Babolat Counter Veron 2025', url: 'https://www.zijpadel.cz/babolat-counter-veron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/824-4_babolat-counter-veron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70725' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: 'Mu≈æ', level: 'Pokroƒçil√Ω', preference: 'S√≠lu', product: { name: 'Babolat Technical Veron Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-veron-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/839-5_babolat-technical-veron-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: 'Mu≈æ', level: 'Pokroƒçil√Ω', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Veron 2025', url: 'https://www.zijpadel.cz/babolat-air-veron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/812-4_babolat-air-veron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c6fdd4' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: 'Mu≈æ', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Kontrolu', product: { name: 'Babolat Counter Viper 2025', url: 'https://www.zijpadel.cz/babolat-counter-viper-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/830-4_babolat-counter-viper-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70a24' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: 'Mu≈æ', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'S√≠lu', product: { name: 'Babolat Technical Viper Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-viper-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1070-3_babolat-technical-viper-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: 'Mu≈æ', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Viper 2025', url: 'https://www.zijpadel.cz/babolat-air-viper-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/818-4_babolat-air-viper-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c701b6' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: 'Mu≈æ', level: 'Zaƒç√°teƒçn√≠k', preference: 'Kontrolu', product: { name: 'Babolat Counter Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-counter-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/827-4_babolat-counter-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c708b3' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: 'Mu≈æ', level: 'Zaƒç√°teƒçn√≠k', preference: 'S√≠lu', product: { name: 'Babolat Technical Vertuo Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-vertuo-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/845-5_babolat-technical-vertuo-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789;")' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: 'Mu≈æ', level: 'Zaƒç√°teƒçn√≠k', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-air-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/815-4_babolat-air-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70039' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: '≈Ωena', level: 'Pokroƒçil√Ω', preference: 'Kontrolu', product: { name: 'Babolat Counter Veron 2025', url: 'https://www.zijpadel.cz/babolat-counter-veron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/824-4_babolat-counter-veron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70725' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: '≈Ωena', level: 'Pokroƒçil√Ω', preference: 'S√≠lu', product: { name: 'Babolat Technical Veron Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-veron-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/839-5_babolat-technical-veron-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: '≈Ωena', level: 'Pokroƒçil√Ω', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Veron 2025', url: 'https://www.zijpadel.cz/babolat-air-veron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/812-4_babolat-air-veron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c6fdd4' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: '≈Ωena', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Kontrolu', product: { name: 'Babolat Counter Viper 2025', url: 'https://www.zijpadel.cz/babolat-counter-viper-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/830-4_babolat-counter-viper-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70a24' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: '≈Ωena', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'S√≠lu', product: { name: 'Babolat Technical Viper Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-viper-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1070-3_babolat-technical-viper-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: '≈Ωena', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Viper 2025', url: 'https://www.zijpadel.cz/babolat-air-viper-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/818-4_babolat-air-viper-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c701b6' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: '≈Ωena', level: 'Zaƒç√°teƒçn√≠k', preference: 'Kontrolu', product: { name: 'Babolat Counter Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-counter-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/827-4_babolat-counter-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c708b3' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: '≈Ωena', level: 'Zaƒç√°teƒçn√≠k', preference: 'S√≠lu', product: { name: 'Babolat Technical Vertuo Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-vertuo-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/845-5_babolat-technical-vertuo-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789;")' } },
        { age: 'Dospƒõl√Ω (16‚Äì59)', sex: '≈Ωena', level: 'Zaƒç√°teƒçn√≠k', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-air-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/815-4_babolat-air-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70039' } },
        { age: 'Junior (10‚Äì15)', sex: 'Mu≈æ', level: 'Pokroƒçil√Ω', preference: 'Kontrolu', product: { name: 'Babolat Counter Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-counter-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/827-4_babolat-counter-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c708b3' } },
        { age: 'Junior (10‚Äì15)', sex: 'Mu≈æ', level: 'Pokroƒçil√Ω', preference: 'S√≠lu', product: { name: 'Babolat Technical Vertuo Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-vertuo-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/845-5_babolat-technical-vertuo-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789;")' } },
        { age: 'Junior (10‚Äì15)', sex: 'Mu≈æ', level: 'Pokroƒçil√Ω', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-air-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/815-4_babolat-air-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70039' } },
        { age: 'Junior (10‚Äì15)', sex: 'Mu≈æ', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Kontrolu', product: { name: 'Babolat Counter Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-counter-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/827-4_babolat-counter-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c708b3' } },
        { age: 'Junior (10‚Äì15)', sex: 'Mu≈æ', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'S√≠lu', product: { name: 'Babolat Technical Vertuo Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-vertuo-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/845-5_babolat-technical-vertuo-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789;")' } },
        { age: 'Junior (10‚Äì15)', sex: 'Mu≈æ', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-air-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/815-4_babolat-air-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70039' } },
        { age: 'Junior (10‚Äì15)', sex: 'Mu≈æ', level: 'Zaƒç√°teƒçn√≠k', preference: 'Kontrolu', product: { name: 'Babolat Counter Origin 2025', url: 'https://www.zijpadel.cz/babolat-counter-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/821-4_babolat-counter-origin-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c705d5' } },
        { age: 'Junior (10‚Äì15)', sex: 'Mu≈æ', level: 'Zaƒç√°teƒçn√≠k', preference: 'S√≠lu', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1067-4_zijpadel-babolat-air-origin-raketa-detail-predni.jpg?68c6b1e8' } },
        { age: 'Junior (10‚Äì15)', sex: 'Mu≈æ', level: 'Zaƒç√°teƒçn√≠k', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1067-4_zijpadel-babolat-air-origin-raketa-detail-predni.jpg?68c6b1e8' } },
        { age: 'Junior (10‚Äì15)', sex: '≈Ωena', level: 'Pokroƒçil√Ω', preference: 'Kontrolu', product: { name: 'Babolat Counter Origin 2025', url: 'https://www.zijpadel.cz/babolat-counter-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/821-4_babolat-counter-origin-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c705d5' } },
        { age: 'Junior (10‚Äì15)', sex: '≈Ωena', level: 'Pokroƒçil√Ω', preference: 'S√≠lu', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1067-4_zijpadel-babolat-air-origin-raketa-detail-predni.jpg?68c6b1e8' } },
        { age: 'Junior (10‚Äì15)', sex: '≈Ωena', level: 'Pokroƒçil√Ω', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1067-4_zijpadel-babolat-air-origin-raketa-detail-predni.jpg?68c6b1e8' } },
        { age: 'Junior (10‚Äì15)', sex: '≈Ωena', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Kontrolu', product: { name: 'Babolat Counter Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-counter-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/827-4_babolat-counter-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c708b3' } },
        { age: 'Junior (10‚Äì15)', sex: '≈Ωena', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'S√≠lu', product: { name: 'Babolat Technical Vertuo Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-vertuo-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/845-5_babolat-technical-vertuo-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789;")' } },
        { age: 'Junior (10‚Äì15)', sex: '≈Ωena', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-air-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/815-4_babolat-air-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70039' } },
        { age: 'Junior (10‚Äì15)', sex: '≈Ωena', level: 'Zaƒç√°teƒçn√≠k', preference: 'Kontrolu', product: { name: 'Babolat Counter Origin 2025', url: 'https://www.zijpadel.cz/babolat-counter-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/821-4_babolat-counter-origin-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c705d5' } },
        { age: 'Junior (10‚Äì15)', sex: '≈Ωena', level: 'Zaƒç√°teƒçn√≠k', preference: 'S√≠lu', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1067-4_zijpadel-babolat-air-origin-raketa-detail-predni.jpg?68c6b1e8' } },
        { age: 'Junior (10‚Äì15)', sex: '≈Ωena', level: 'Zaƒç√°teƒçn√≠k', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1067-4_zijpadel-babolat-air-origin-raketa-detail-predni.jpg?68c6b1e8' } },
        { age: 'Senior (60+)', sex: 'Mu≈æ', level: 'Pokroƒçil√Ω', preference: 'Kontrolu', product: { name: 'Babolat Counter Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-counter-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/827-4_babolat-counter-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c708b3' } },
        { age: 'Senior (60+)', sex: 'Mu≈æ', level: 'Pokroƒçil√Ω', preference: 'S√≠lu', product: { name: 'Babolat Technical Vertuo Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-vertuo-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/845-5_babolat-technical-vertuo-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789;")' } },
        { age: 'Senior (60+)', sex: 'Mu≈æ', level: 'Pokroƒçil√Ω', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-air-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/815-4_babolat-air-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70039' } },
        { age: 'Senior (60+)', sex: 'Mu≈æ', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Kontrolu', product: { name: 'Babolat Counter Veron 2025', url: 'https://www.zijpadel.cz/babolat-counter-veron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/824-4_babolat-counter-veron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70725' } },
        { age: 'Senior (60+)', sex: 'Mu≈æ', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'S√≠lu', product: { name: 'Babolat Technical Veron Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-veron-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/839-5_babolat-technical-veron-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789' } },
        { age: 'Senior (60+)', sex: 'Mu≈æ', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Univerz√°lnost', product: { Name: 'Babolat Air Veron 2025', url: 'https://www.zijpadel.cz/babolat-air-veron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/812-4_babolat-air-veron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c6fdd4' } },
        { age: 'Senior (60+)', sex: 'Mu≈æ', level: 'Zaƒç√°teƒçn√≠k', preference: 'Kontrolu', product: { name: 'Babolat Counter Origin 2025', url: 'https://www.zijpadel.cz/babolat-counter-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/821-4_babolat-counter-origin-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c705d5' } },
        { age: 'Senior (60+)', sex: 'Mu≈æ', level: 'Zaƒç√°teƒçn√≠k', preference: 'S√≠lu', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1067-4_zijpadel-babolat-air-origin-raketa-detail-predni.jpg?68c6b1e8' } },
        { age: 'Senior (60+)', sex: 'Mu≈æ', level: 'Zaƒç√°teƒçn√≠k', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1067-4_zijpadel-babolat-air-origin-raketa-detail-predni.jpg?68c6b1e8' } },
        { age: 'Senior (60+)', sex: '≈Ωena', level: 'Pokroƒçil√Ω', preference: 'Kontrolu', product: { name: 'Babolat Counter Origin 2025', url: 'https://www.zijpadel.cz/babolat-counter-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/827-4_babolat-counter-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c708b3' } },
        { age: 'Senior (60+)', sex: '≈Ωena', level: 'Pokroƒçil√Ω', preference: 'S√≠lu', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/845-5_babolat-technical-vertuo-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789;")' } },
        { age: 'Senior (60+)', sex: '≈Ωena', level: 'Pokroƒçil√Ω', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/815-4_babolat-air-vertuo-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70039' } },
        { age: 'Senior (60+)', sex: '≈Ωena', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Kontrolu', product: { name: 'Babolat Counter Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-counter-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/824-4_babolat-counter-veron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c70725' } },
        { age: 'Senior (60+)', sex: '≈Ωena', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'S√≠lu', product: { name: 'Babolat Technical Vertuo Juan Lebron 2025', url: 'https://www.zijpadel.cz/babolat-technical-vertuo-juan-lebron-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/839-5_babolat-technical-veron-juan-lebron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68cbd789' } },
        { age: 'Senior (60+)', sex: '≈Ωena', level: 'Velmi zdatn√Ω hr√°ƒç / expert', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Vertuo 2025', url: 'https://www.zijpadel.cz/babolat-air-vertuo-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/812-4_babolat-air-veron-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c6fdd4' } },
        { age: 'Senior (60+)', sex: '≈Ωena', level: 'Zaƒç√°teƒçn√≠k', preference: 'Kontrolu', product: { name: 'Babolat Counter Origin 2025', url: 'https://www.zijpadel.cz/babolat-counter-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/821-4_babolat-counter-origin-2025-padelova-raketa-pohled-zepredu-zijpadel-webp.jpg?68c705d5' } },
        { age: 'Senior (60+)', sex: '≈Ωena', level: 'Zaƒç√°teƒçn√≠k', preference: 'S√≠lu', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1067-4_zijpadel-babolat-air-origin-raketa-detail-predni.jpg?68c6b1e8' } },
        { age: 'Senior (60+)', sex: '≈Ωena', level: 'Zaƒç√°teƒçn√≠k', preference: 'Univerz√°lnost', product: { name: 'Babolat Air Origin 2025', url: 'https://www.zijpadel.cz/babolat-air-origin-2025/?utm_source=racket_finder&utm_medium=racket_finder&utm_campaign=prodej_podpora&utm_content=racket_finder', image: 'https://cdn.myshoptet.com/usr/www.zijpadel.cz/user/shop/big/1067-4_zijpadel-babolat-air-origin-raketa-detail-predni.jpg?68c6b1e8' } },
        { age: '', sex: '', level: '', preference: '', product: { name: 'DOPLNIT PRODUKT!', url: '', image: '' } }
      ];

  // üß© Najdi produkt podle kombinace odpovƒõd√≠
  function matchRule(answers) {
    for (const rule of RULES) {
      const ok = ['age','sex','level','preference'].every(key => rule[key] === answers[key]);
      if (ok) return rule.product;
    }
    return { name: 'DOPLNIT PRODUKT!', url: '', image: '' };
  }

  function setProgress() {
    const totalSteps = ORDER.length - 1;
    const currentStep = Math.min(state.stepIndex + 1, totalSteps);
    const pct = (currentStep - 1) / (totalSteps - 1) * 100;
    progressBar.style.width = pct + '%';
    progressLabel.textContent = `Krok ${currentStep} z ${totalSteps}`;
  }

  function showStep(index) {
    state.stepIndex = index;
    steps.forEach((s,i) => s.classList.toggle('active', i === index));
    setProgress();
    const active = steps[index];
    const nextBtn = active.querySelector('[data-action="next"], [data-action="finish"]');
    if (nextBtn) {
      const stepKey = active.getAttribute('data-step');
      const val = state.answers[stepKey];
      nextBtn.disabled = !val;
    }
  }

  function handleOptionClick(stepEl, btn) {
    stepEl.querySelectorAll('.zp-option').forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');
    const value = btn.getAttribute('data-value');
    const key = stepEl.getAttribute('data-step');
    state.answers[key] = value;
    const advanceBtn = stepEl.querySelector('[data-action="next"], [data-action="finish"]');
    if (advanceBtn) advanceBtn.disabled = false;
  }

  function next() {
    const currentStepKey = ORDER[state.stepIndex];

    // üßí speci√°ln√≠ logika pro dƒõti
    if (currentStepKey === 'age' && state.answers.age === 'D√≠tƒõ (6‚Äì15)') {
      renderResult(CHILD_PRODUCT);
      showStep(RESULT_INDEX);
      return;
    }

    const isLastQuestion = state.stepIndex === RESULT_INDEX - 1;
    if (isLastQuestion) {
      const product = matchRule(state.answers);
      renderResult(product);
      showStep(RESULT_INDEX);
      return;
    }
    showStep(Math.min(state.stepIndex + 1, RESULT_INDEX));
  }

  function back() { showStep(Math.max(state.stepIndex - 1, 0)); }
  function finish() { next(); }
  function restart() {
    state.stepIndex = 0;
    state.answers = { age:null, sex:null, frequency:null, level:null, preference:null };
    root.querySelectorAll('.zp-option').forEach(b => b.classList.remove('selected'));
    root.querySelectorAll('[data-action="next"], [data-action="finish"]').forEach(btn => btn.disabled = true);
    const firstBack = steps[0].querySelector('[data-action="back"]'); 
    if (firstBack) firstBack.disabled = true;
    showStep(0);
  }

  function renderResult(product) {
    const titleEl = root.querySelector('#zp-result-title');
    const subEl = root.querySelector('#zp-result-subtitle');
    const imgWrap = root.querySelector('#zp-result-image');
    const cta = root.querySelector('#zp-result-cta');

    titleEl.textContent = product.name || 'DOPLNIT PRODUKT!';
    subEl.textContent = (product.name && product.name !== 'DOPLNIT PRODUKT!') ? 
      'Tohle by pro tebe mohla b√Ωt skvƒõl√° volba.' : 
      'Nem√°me p≈ôi≈ôazen√Ω produkt pro tuto kombinaci.';

    imgWrap.innerHTML = '';
    if (product.image) {
      const img = document.createElement('img'); 
      img.src = product.image; 
      img.alt = product.name; 
      imgWrap.appendChild(img);
    } else {
      const ph = document.createElement('div'); 
      ph.className = 'zp-quiz__result-image--placeholder'; 
      ph.innerHTML = 'Obr√°zek produktu<br><small>(dopl≈àte v RULES)</small>'; 
      imgWrap.appendChild(ph);
    }

    cta.innerHTML = '';
    if (product.url) {
      const a = document.createElement('a'); 
      a.href = product.url; 
      a.target = '_self';
      a.innerHTML = '<button class="zp-btn zp-btn--primary">Zobrazit produkt</button>';
      cta.appendChild(a);
    }
  }

  // Eventy
  root.querySelectorAll('.zp-step').forEach(stepEl => {
    stepEl.addEventListener('click', (e) => {
      const btn = e.target.closest('.zp-option'); 
      if (!btn) return; 
      handleOptionClick(stepEl, btn);
    });
  });
  root.addEventListener('click', (e) => {
    const actionBtn = e.target.closest('[data-action]'); 
    if (!actionBtn) return;
    const action = actionBtn.getAttribute('data-action');
    if (action === 'next') next();
    if (action === 'back') back();
    if (action === 'finish') finish();
    if (action === 'restart') restart();
    const firstBack = steps[0].querySelector('[data-action="back"]'); 
    if (firstBack) firstBack.disabled = (state.stepIndex === 0);
  });
  document.addEventListener('DOMContentLoaded', function() {
    // Funkce pro skryt√≠ element≈Ø na z√°kladƒõ textu
    function hideTextElement(selector, textToFind) {
        const elements = document.querySelectorAll(selector);
        elements.forEach(el => {
            // Kontrola, zda text elementu obsahuje hledan√Ω ≈ôetƒõzec
            if (el.textContent.trim().includes(textToFind.trim())) {
                el.style.display = 'none';
            }
        });
    }

    // 1. Skryt√≠ nadpisu H1 "Pojƒème vybrat tvoj√≠ novou raketu"
    hideTextElement('h1', 'Pojƒème vybrat tvoj√≠ novou raketu');

    // 2. Skryt√≠ odstavce P "≈Ωij padel ‚Äì Racket Finder"
    hideTextElement('p', '≈Ωij padel ‚Äì Racket Finder');
});
  setProgress();
})();
</script>
</body>
</html>
